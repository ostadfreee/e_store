<%- model_class = Product -%>
<% provide(:title, 'Show Basket') %>
<% provide(:header ,'Cart') %>

<table class="table table-striped">
  <thead>
    <tr>

      <th><%= model_class.human_attribute_name(:name) %></th>
      <th><%= model_class.human_attribute_name(:category) %></th>
      <th><%= model_class.human_attribute_name(:quantity) %></th>
      <th><%= model_class.human_attribute_name(:price) %></th>
      <th><%= model_class.human_attribute_name(:action) %></th>
      <th>&nbsp;</th>
    </tr>
  </thead>

  <tbody>
    <% @basket.items.each do |item|  %>
      <tr>
        
        <td><%= h(item.product.name) %></td>
        <td><%= h(item.product.category.name) if item.product.category %></td>
        <td><%= item.quantity %></td>
        <td><%= number_to_currency(item.price)%></td>
        
       <td><%= link_to t('.remove', :default => t("helpers.links.remove")),
                      {:action => 'remove_from_basket', :id => item.product_id},
                      :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) } %></td>
       <td>&nbsp;</td>

                 
      </tr>
     <% end %>
     <tr> 
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>Total Price:</td>
        <td> <%= number_to_currency(@basket.total_price) %> </td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>

      </tr>
      </tbody>
</table>


<div class = "form-actions">

<%= link_to t('.continue shopping', :default => t("helpers.links.continue shopping")),
                      {:action => 'list'}, :class => 'btn btn-sm btn-primary' %> 
<%= link_to t('.checkout', :default => t("helpers.links.checkout")),
                      {:action => 'checkout'}, :class => 'btn btn-sm btn-primary' %> 
<%= link_to t('.empty basket', :default => t("helpers.links.empty basket")),
                      {:action => 'empty_basket'}, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-sm btn-danger pull-right' %>
</div>
                      

